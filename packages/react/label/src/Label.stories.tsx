import * as React from 'react';
import { Label, useLabelContext } from './Label';
import { styled } from '../../../../stitches.config';

export default { title: 'Components/Label', excludeStories: ['RECOMMENDED_CSS__LABEL__ROOT'] };

export const Styled = () => <Label as={StyledRoot}>Label</Label>;

export const AutoGeneratedId = () => (
  <Label as={StyledRoot}>
    Label <Control />
  </Label>
);

export const SuppliedId = () => (
  <Label id="test" as={StyledRoot}>
    Label <Control />
  </Label>
);

export const WithHtmlFor = () => (
  <>
    <Label htmlFor="test" as={StyledRoot}>
      This should add an `aria-labelledby` to the control
    </Label>
    <Control id="test" />
  </>
);

const Control = (props: any) => {
  const id = useLabelContext();
  return <span {...props}>{id}</span>;
};

export const RECOMMENDED_CSS__LABEL__ROOT = {
  // ensures it can receive vertical margins
  display: 'inline-block',
  // better default alignment
  verticalAlign: 'middle',
  // mimics default `label` tag (as we render a `span`)
  cursor: 'default',
};

const StyledRoot = styled('span', {
  ...RECOMMENDED_CSS__LABEL__ROOT,
  border: '1px solid gainsboro',
  margin: 10,
  padding: 10,
});
